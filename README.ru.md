# TL;DR (Too Long; Didn't Read) - Chrome Расширение

[English](README.md)  | Russian  

Это расширение позволяет быстро получать краткое содержание любой веб-страницы или выделенного текста. С его помощью можно оперативно получить основные идеи и пункты из длинного текста посредством запросов к OpenAI API (или альтернативному сервису).

![Summary Screenshot](https://i.imgur.com/ux0F7ng.png)

## Особенности

- **Кнопка в тулбаре:** При нажатии извлекается весь текст страницы и отправляется на суммаризацию.
- **Контекстное меню:** Позволяет суммаризировать выделенный текст через правый клик и выбор команды «Summarize via TL;DR».
- **Интеграция с API:** Отправка текста для суммаризации с использованием заданного системного промпта (по умолчанию: "Summarize this text in 3 bullet points. Return plain HTML only, do not use code blocks."). API запросы настраиваются через параметры.
- **Настройки расширения:** Страница настроек позволяет задать:
  - Base URL для API
  - API Key
  - Системный промпт
  - Модель (текстовое поле, по умолчанию: "o3-mini")
  - Расширенные настройки:
    - Temperature (по умолчанию: 0.8, диапазон: 0-2.0) - Контролирует случайность в выводе
    - Top p (по умолчанию: 1.0, диапазон: 0-1.0) - Контролирует разнообразие через nucleus sampling
    - Top k (по умолчанию: 0, целое число ≥ 0) - Ограничивает кумулятивную вероятность токенов
    - Frequency Penalty (по умолчанию: 0, диапазон: -2.0 до 2.0) - Уменьшает повторения 
    - Presence Penalty (по умолчанию: 0, диапазон: -2.0 до 2.0) - Поощряет новые темы
    - Repetition Penalty (по умолчанию: 0, диапазон: -2.0 до 2.0) - Штрафует повторение токенов
    - Max Tokens (опционально, целое число ≥ 1) - Максимальное количество генерируемых токенов

## Файловая структура

- **manifest.json** – Манифест расширения для Chrome, указывающий разрешения и подключаемые скрипты.
- **background.js** – Сервис-воркер, обрабатывающий клики по кнопке расширения и в контекстном меню, извлекающий текст и отправляющий запросы к API.
- **options.html** и **options.js** – Страница настроек, позволяющая пользователю задать параметры для работы расширения.
- **content_script.js** – Простейший скрипт, загружаемый на все страницы (может использоваться для дополнительных функций).

## Как установить (вручную)

1. Убедитесь, что у вас установлен Google Chrome.
2. Скачайте все файлы расширения (manifest.json, background.js, options.html, options.js, content_script.js, README.md) в одну папку.
3. Откройте Google Chrome и перейдите на страницу расширений, введя в адресной строке: `chrome://extensions/`
4. Включите "Режим разработчика" (Developer mode) в правом верхнем углу страницы.
5. Нажмите на кнопку **"Загрузить распакованное расширение"** и выберите папку с файлами расширения.
6. Расширение установится и сразу станет доступным для использования.

## Использование

- **Для суммаризации всей страницы:**
  - Нажмите на иконку расширения в тулбаре. Текст всей страницы будет извлечен и отправлен на суммаризацию.
- **Для суммаризации выделенного текста:**
  - Выделите необходимый текст и щелкните правой кнопкой мыши. Выберите пункт «Summarize via TL;DR».
- Результат суммаризации будет отображен в виде всплывающего модального окна непосредственно на странице.

## Настройка

Откройте страницу настроек расширения:
- Заполните поле "Base URL" (по умолчанию `https://api.openai.com/v1`, но можно изменить на другой сервис с OpenAI-совместимым API, как [Openrouter](https://openrouter.ai/)).
- Введите ваш "API Key".
- Отредактируйте "Системный промпт", если необходимо.
- Введите название модели в текстовое поле "Модель" (по умолчанию: **o3-mini**).

Настройки сохраняются при нажатии кнопки "Save settings".

![Settings Screenshot](https://i.imgur.com/fT1SddM.png)
